<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>17.3. Exceptions as Control Flow &#8212; Introduction to Professional Web Development in JavaScript  documentation</title>
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/fa/css/all.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/launchcode.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/site.css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="17.4. Exercises: Exceptions" href="exercises.html" />
    <link rel="prev" title="17.2. Throw" href="throw.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../../_static/js/jquery-1.12.4.min.js"></script>
<script type="text/javascript" src="../../_static/js/jquery-fix.js"></script>
<script type="text/javascript" src="../../_static/bootstrap-3.4.1/js/bootstrap.min.js"></script>
<script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>

  </head><body class="body-bc">

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../index.html"><span><img src="../../_static/lc-ed-logo.png" alt="LaunchCode logo"></span>
        </a>
        <span class="navbar-text navbar-version pull-left"><b></b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              
            
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
    <label for="q" class="searchLabel">Search</label>
    <input type="text" name="q" class="form-control" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<ol class="breadcrumb container">
    <li><a href="../../index.html">Contents</a></li>
    <li><a href="index.html"><span class="section-number">17. </span>Exceptions</a></li>
    <li class="active"><span class="section-number">17.3. </span>Exceptions as Control Flow</li>
</ol>



<div class="container">
  <div class="row">
    <div class="col-md-10 col-md-offset-1 content " role="main">

    
  <div class="section" id="exceptions-as-control-flow">
<h1><span class="section-number">17.3. </span>Exceptions as Control Flow<a class="headerlink" href="#exceptions-as-control-flow" title="Permalink to this headline">¶</a></h1>
<p>Runtime errors occur as the program runs, and they are also called exceptions.
Exceptions are caused by referencing undeclared variables and invalid or
unexpected data.</p>
<div class="section" id="control-flow">
<h2><span class="section-number">17.3.1. </span>Control Flow<a class="headerlink" href="#control-flow" title="Permalink to this headline">¶</a></h2>
<p id="index-0">The <strong>control flow</strong> of a program is the order in which the statements are
executed. Normal control flow runs from top to bottom of a file. An exception
breaks the normal flow and stops the program. A stopped program can no longer
interact with the user. Luckily JavaScript provides a way to anticipate and
handle exceptions.</p>
</div>
<div class="section" id="catching-an-exception">
<h2><span class="section-number">17.3.2. </span>Catching an Exception<a class="headerlink" href="#catching-an-exception" title="Permalink to this headline">¶</a></h2>
<p id="index-1">JavaScript provides <code class="docutils literal notranslate"><span class="pre">try</span></code> and <code class="docutils literal notranslate"><span class="pre">catch</span></code> statements that allow us to keep our programs running even if there
is an exception. We can tell JavaScript to <em>try</em> to run a block of code, and if an exception is thrown, to <em>catch</em> the
exception and run a specific block of code. Anticipating and catching the exception makes the exception now part of
the control flow.</p>
<div class="admonition-note admonition">
<p class="first admonition-title"><i class="fas fa-sticky-note" aria-hidden="true"></i>Note</p>
<p class="last">Catching an exception is also known as <em>handling</em> an exception.</p>
</div>
<div class="admonition-example admonition">
<p class="first admonition-title"><i class="fas fa-binoculars" aria-hidden="true"></i>Example</p>
<p>In this example there is an array of animals. The user is asked to enter the index for the animal they want to see.
If the user enters an index that does NOT contain an animal, the code will throw a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> when <code class="docutils literal notranslate"><span class="pre">name</span></code>
is referenced on an undefined value.</p>
<p>There is a <code class="docutils literal notranslate"><span class="pre">try</span></code> block around the code that will throw the <code class="docutils literal notranslate"><span class="pre">TypeError</span></code>. There is a <code class="docutils literal notranslate"><span class="pre">catch</span></code> block that catches the error
and contains code to inform the user that they entered an invalid index.</p>
<div class="highlight-js notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">const</span> <span class="nx">input</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;readline-sync&#39;</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">animals</span> <span class="o">=</span> <span class="p">[{</span><span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;cat&#39;</span><span class="p">},</span> <span class="p">{</span><span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;dog&#39;</span><span class="p">}];</span>
<span class="kd">let</span> <span class="nx">index</span> <span class="o">=</span> <span class="nb">Number</span><span class="p">(</span><span class="nx">input</span><span class="p">.</span><span class="nx">question</span><span class="p">(</span><span class="s2">&quot;Enter index of animal:&quot;</span><span class="p">));</span>

<span class="k">try</span> <span class="p">{</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;animal at index:&#39;</span><span class="p">,</span> <span class="nx">animals</span><span class="p">[</span><span class="nx">index</span><span class="p">].</span><span class="nx">name</span><span class="p">);</span>
<span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;We caught a TypeError, but our program continues to run!&quot;</span><span class="p">);</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;You tried to access an animal at index:&quot;</span><span class="p">,</span> <span class="nx">index</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;the code goes on...&quot;</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p class="repl-link"><a class="reference external" href="https://repl.it/&#64;launchcode/control-flow-type-error" target="_blank">repl.it<i class="fas fa-external-link-alt" aria-hidden="true"></i></a></p>
<p><strong>Console Output</strong></p>
<p>If the user enters <code class="docutils literal notranslate"><span class="pre">9</span></code>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Enter index of animal: 9
We caught a TypeError, but our program continues to run!
You tried to access an animal at index: 9
the code goes on...
</pre></div>
</div>
<p>If the user enters <code class="docutils literal notranslate"><span class="pre">0</span></code>:</p>
<div class="last highlight-none notranslate"><div class="highlight"><pre><span></span>Enter index of animal: 0
animal at index: cat
the code goes on...
</pre></div>
</div>
</div>
<p>On line 8 of the above code sample, a variable called <code class="docutils literal notranslate"><span class="pre">err</span></code> is passed to <code class="docutils literal notranslate"><span class="pre">catch</span></code>. <code class="docutils literal notranslate"><span class="pre">err</span></code> can be any type of error object in JavaScript.
For the above example, that is a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code>, but we could have had a <code class="docutils literal notranslate"><span class="pre">ReferenceError</span></code> or <code class="docutils literal notranslate"><span class="pre">EvalError</span></code>.
If necessary, we could output different statements based on what kind of error <code class="docutils literal notranslate"><span class="pre">err</span></code> is.</p>
<div class="admonition-tip admonition">
<p class="first admonition-title"><i class="fas fa-lightbulb" aria-hidden="true"></i>Tip</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">catch</span></code> blocks only execute if an exception is thrown</p>
</div>
</div>
<div class="section" id="finally">
<h2><span class="section-number">17.3.3. </span>Finally<a class="headerlink" href="#finally" title="Permalink to this headline">¶</a></h2>
<span class="target" id="index-2"></span><p id="index-3">JavaScript also provides a <code class="docutils literal notranslate"><span class="pre">finally</span></code> block which can be used with <code class="docutils literal notranslate"><span class="pre">try</span></code> and <code class="docutils literal notranslate"><span class="pre">catch</span></code> blocks.  A <code class="docutils literal notranslate"><span class="pre">finally</span></code> block code runs after the <code class="docutils literal notranslate"><span class="pre">try</span></code> and <code class="docutils literal notranslate"><span class="pre">catch</span></code>.
What is special about <code class="docutils literal notranslate"><span class="pre">finally</span></code> is that <code class="docutils literal notranslate"><span class="pre">finally</span></code> code block ALWAYS runs, even if an exception is NOT thrown.</p>
<div class="admonition-example admonition">
<p class="first admonition-title"><i class="fas fa-binoculars" aria-hidden="true"></i>Example</p>
<p>Let's update the above example to print out the index the user entered. We want this message to be printed EVERY time the code runs.
Notice the <code class="docutils literal notranslate"><span class="pre">console.log</span></code> statement on line 11.</p>
<div class="highlight-js notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">const</span> <span class="nx">input</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;readline-sync&#39;</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">animals</span> <span class="o">=</span> <span class="p">[{</span><span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;cat&#39;</span><span class="p">},</span> <span class="p">{</span><span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;dog&#39;</span><span class="p">}];</span>
<span class="kd">let</span> <span class="nx">index</span> <span class="o">=</span> <span class="nb">Number</span><span class="p">(</span><span class="nx">input</span><span class="p">.</span><span class="nx">question</span><span class="p">(</span><span class="s2">&quot;Enter index of animal:&quot;</span><span class="p">));</span>

<span class="k">try</span> <span class="p">{</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;animal at index:&#39;</span><span class="p">,</span> <span class="nx">animals</span><span class="p">[</span><span class="nx">index</span><span class="p">].</span><span class="nx">name</span><span class="p">);</span>
<span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;We caught a TypeError, but our program continues to run!&quot;</span><span class="p">);</span>
<span class="p">}</span> <span class="k">finally</span> <span class="p">{</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;You tried to access an animal at index:&quot;</span><span class="p">,</span> <span class="nx">index</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;the code goes on...&quot;</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p class="repl-link"><a class="reference external" href="https://repl.it/&#64;launchcode/control-flow-type-error-finally" target="_blank">repl.it<i class="fas fa-external-link-alt" aria-hidden="true"></i></a></p>
<p><strong>Console Output</strong></p>
<p>If the user enters <code class="docutils literal notranslate"><span class="pre">7</span></code>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Enter index of animal: 7
We caught a TypeError, but our program continues to run!
You tried to access an animal at index: 7
the code goes on...
</pre></div>
</div>
<p>If the user enters <code class="docutils literal notranslate"><span class="pre">1</span></code>:</p>
<div class="last highlight-none notranslate"><div class="highlight"><pre><span></span>Enter index of animal: 1
animal at index: dog
You tried to access an animal at index: 1
the code goes on...
</pre></div>
</div>
</div>
</div>
<div class="section" id="check-your-understanding">
<h2><span class="section-number">17.3.4. </span>Check Your Understanding<a class="headerlink" href="#check-your-understanding" title="Permalink to this headline">¶</a></h2>
<div class="admonition-question admonition">
<p class="first admonition-title"><i class="fas fa-question" aria-hidden="true"></i>Question</p>
<p>What statement do we use if we want to attempt to run code, but think an
exception might be thrown?</p>
<ol class="last arabic simple">
<li><code class="docutils literal notranslate"><span class="pre">catch</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">try</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">throw</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">finally</span></code></li>
</ol>
</div>
<div class="admonition-question admonition">
<p class="first admonition-title"><i class="fas fa-question" aria-hidden="true"></i>Question</p>
<p>How do you handle an exception that is thrown?</p>
<ol class="last arabic simple">
<li>With code placed within the <code class="docutils literal notranslate"><span class="pre">try</span></code> block.</li>
<li>With code placed within the <code class="docutils literal notranslate"><span class="pre">catch</span></code> block.</li>
<li>With code placed within a <code class="docutils literal notranslate"><span class="pre">throw</span></code> statement.</li>
<li>With code placed within the <code class="docutils literal notranslate"><span class="pre">finally</span></code> block.</li>
</ol>
</div>
<div class="admonition-question admonition">
<p class="first admonition-title"><i class="fas fa-question" aria-hidden="true"></i>Question</p>
<p>What statement do you use to ensure a code block is executed regardless if
an exception was thrown?</p>
<ol class="last arabic simple">
<li><code class="docutils literal notranslate"><span class="pre">throw</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">catch</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">try</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">finally</span></code></li>
</ol>
</div>
</div>
</div>



    
    <nav aria-label="Next and Previous Pages">
      <ul class="pager">
        
        <li class="previous"><a href="throw.html"><span aria-hidden="true">&larr;</span> <span class="section-number">17.2. </span>Throw</a></li>
        
        
        <li class="next"><a href="exercises.html"><span class="section-number">17.4. </span>Exercises: Exceptions <span aria-hidden="true">&rarr;</span></a></li>
        
      </ul>
    </nav>
    
    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>