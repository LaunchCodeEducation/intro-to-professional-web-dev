<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>23.5. Event Listeners &#8212; Introduction to Professional Web Development in JavaScript  documentation</title>
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/fa/css/all.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/launchcode.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/site.css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="23.6. Event Types" href="event-types.html" />
    <link rel="prev" title="23.4. Events" href="events.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../../_static/js/jquery-1.12.4.min.js"></script>
<script type="text/javascript" src="../../_static/js/jquery-fix.js"></script>
<script type="text/javascript" src="../../_static/bootstrap-3.4.1/js/bootstrap.min.js"></script>
<script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>

  </head><body class="body-bc">

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../index.html"><span><img src="../../_static/lc-ed-logo.png" alt="LaunchCode logo"></span>
        </a>
        <span class="navbar-text navbar-version pull-left"><b></b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              
            
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
    <label for="q" class="searchLabel">Search</label>
    <input type="text" name="q" class="form-control" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<ol class="breadcrumb container">
    <li><a href="../../index.html">Contents</a></li>
    <li><a href="index.html"><span class="section-number">23. </span>The DOM and Events</a></li>
    <li class="active"><span class="section-number">23.5. </span>Event Listeners</li>
</ol>



<div class="container">
  <div class="row">
    <div class="col-md-10 col-md-offset-1 content " role="main">

    
  <div class="section" id="event-listeners">
<span id="id1"></span><h1><span class="section-number">23.5. </span>Event Listeners<a class="headerlink" href="#event-listeners" title="Permalink to this headline">¶</a></h1>
<p>Using inline event handling is a good way to get started handling events. A second way
to handle events uses the DOM objects and methods. Remember, the DOM is an object representation
of the entire web page. The DOM allows us to use JavaScript to configure
our event handlers. The event handling declaration will no longer be in the HTML
element attribute, but will instead be inside <code class="docutils literal notranslate"><span class="pre">&lt;script&gt;</span></code> tags or in an external JavaScript file.</p>
<div class="section" id="add-event-handlers-in-javascript">
<h2><span class="section-number">23.5.1. </span>Add Event Handlers in JavaScript<a class="headerlink" href="#add-event-handlers-in-javascript" title="Permalink to this headline">¶</a></h2>
<p id="index-0">Before we add event handlers in JavaScript, we need to learn a new vocabulary term related to
events in programming. A <strong>listener</strong> is another name for an event handler. The term
listener refers to the code <em>listening</em> for the event to occur. If the code <em>hears</em> the event,
then the event is handled.</p>
<p><code class="docutils literal notranslate"><span class="pre">addEventListener</span></code> is used to add an event handler, aka <em>listener</em>. <code class="docutils literal notranslate"><span class="pre">addEventListener</span></code>
is a method available on instances of <code class="docutils literal notranslate"><span class="pre">Window</span></code>, <code class="docutils literal notranslate"><span class="pre">Document</span></code>, and <code class="docutils literal notranslate"><span class="pre">Element</span></code> classes.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">anElement</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">&quot;eventName&quot;</span><span class="p">,</span> <span class="nx">aFunction</span><span class="p">);</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">anElement</span></code> is a reference to a DOM element object. <code class="docutils literal notranslate"><span class="pre">&quot;eventName&quot;</span></code> is the name of an event that
the variable <code class="docutils literal notranslate"><span class="pre">anElement</span></code> supports. <code class="docutils literal notranslate"><span class="pre">aFunction</span></code> is a reference to a function. To start, we are
going to use a <em>named function</em>.</p>
<div class="admonition-example admonition">
<p class="admonition-title"><i class="fas fa-binoculars" aria-hidden="true"></i>Example</p>
<p>We want to set the named function <code class="docutils literal notranslate"><span class="pre">youRang</span></code> as the <em>click</em> handler for the
<code class="docutils literal notranslate"><span class="pre">button</span></code> element. Notice that the value passed in as the event name is
<code class="docutils literal notranslate"><span class="pre">&quot;click&quot;</span></code> instead of <code class="docutils literal notranslate"><span class="pre">&quot;onclick&quot;</span></code>.</p>
<div class="highlight-html notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
   <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>Use addEventListener<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
   <span class="p">&lt;</span><span class="nt">p</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;main-text&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;orange&quot;</span> <span class="na">style</span><span class="o">=</span><span class="s">&quot;font-weight: bold;&quot;</span><span class="p">&gt;</span>
      a bunch of really valuable text...
   <span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
   <span class="p">&lt;</span><span class="nt">button</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;ring-button&quot;</span><span class="p">&gt;</span>Ring Bell<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
   <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
      <span class="kd">function</span> <span class="nx">youRang</span><span class="p">()</span> <span class="p">{</span>
         <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;main-text&quot;</span><span class="p">).</span><span class="nx">innerHTML</span> <span class="o">+=</span> <span class="s2">&quot;you rang...&quot;</span><span class="p">;</span>
         <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;you rang...&quot;</span><span class="p">);</span>
      <span class="p">}</span>
      <span class="c1">// Obtain a reference to the button element</span>
      <span class="kd">let</span> <span class="nx">button</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;ring-button&quot;</span><span class="p">);</span>
      <span class="c1">// Set named function youRang as the click event handler</span>
      <span class="nx">button</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">&quot;click&quot;</span><span class="p">,</span> <span class="nx">youRang</span><span class="p">);</span>
   <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre></div>
</td></tr></table></div>
<p><strong>Result</strong> (if button is clicked)</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>affect on page: adds &quot;you rang...&quot; to &lt;p&gt;
output in console: you rang...
</pre></div>
</div>
</div>
<div class="admonition">
<p class="admonition-title"><i class="fas fa-exclamation-triangle" aria-hidden="true"></i>Warning</p>
<p>Be sure to use the correct event name when declaring the event name. An error will NOT be thrown
if an invalid event name is given.</p>
</div>
<div class="admonition">
<p class="admonition-title"><i class="fas fa-sticky-note" aria-hidden="true"></i>Note</p>
<p id="index-1">This chapter uses DOM methods to add event handlers. When searching online, you may find examples
using jQuery to add event handlers, which look like <code class="docutils literal notranslate"><span class="pre">.on(&quot;click&quot;,</span> <span class="pre">...)</span></code> or <code class="docutils literal notranslate"><span class="pre">.click(...)</span></code>.
<strong>jQuery</strong> is a JavaScript library designed to simplify working with the DOM. jQuery's popularity
has declined as the DOM itself has gained features and improved usablity.</p>
</div>
<p>The second parameter of <code class="docutils literal notranslate"><span class="pre">addEventListener</span></code> is a function. Remember there are many ways to declare a
function in JavaScript. So far, we have passed in named functions as the event handler.
<code class="docutils literal notranslate"><span class="pre">addEventListener</span></code> will accept any valid function as the event handler. It's possible,
and quite common, to pass in an <em>anonymous function</em> as the event handler.</p>
<div class="highlight-js notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nx">anElement</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">&quot;eventName&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
   <span class="c1">// function body of anonymous function</span>
   <span class="c1">// this function will be executed when the event is triggered</span>
<span class="p">});</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="event-details">
<h2><span class="section-number">23.5.2. </span>Event Details<a class="headerlink" href="#event-details" title="Permalink to this headline">¶</a></h2>
<p>A benefit of using <code class="docutils literal notranslate"><span class="pre">addEventListener</span></code> is that an <em>event</em> parameter can be passed to
the event handler function. This event is an object instance of the Event
class, which defines methods and properties related to events.</p>
<div class="highlight-js notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nx">anElement</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">&quot;eventName&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;event type&quot;</span><span class="p">,</span> <span class="nx">event</span><span class="p">.</span><span class="nx">type</span><span class="p">);</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;event target&quot;</span><span class="p">,</span> <span class="nx">event</span><span class="p">.</span><span class="nx">target</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>
</td></tr></table></div>
<p><code class="docutils literal notranslate"><span class="pre">event.type</span></code> is a string name of the event.</p>
<p><code class="docutils literal notranslate"><span class="pre">event.target</span></code> is an element object that was the target of the event.</p>
<div class="admonition-try-it admonition">
<p class="admonition-title"><i class="fas fa-puzzle-piece" aria-hidden="true"></i>Try It!</p>
<p>Above, we saw how we could use <code class="docutils literal notranslate"><span class="pre">addEventListener</span></code> to add the function <code class="docutils literal notranslate"><span class="pre">youRang()</span></code> as the event handler for the <code class="docutils literal notranslate"><span class="pre">Ring</span> <span class="pre">Bell</span></code> button.</p>
<p>Using <code class="docutils literal notranslate"><span class="pre">addEventListener</span></code>, could you add the function <code class="docutils literal notranslate"><span class="pre">greetFriends()</span></code> as the event handler for the <code class="docutils literal notranslate"><span class="pre">Greet</span> <span class="pre">Friends</span></code> button?</p>
<p><a class="reference external" href="https://repl.it/&#64;launchcode/Try-It-addEventListener/" target="_blank">Try it at repl.it<i class="fas fa-external-link-alt" aria-hidden="true"></i></a></p>
</div>
</div>
<div class="section" id="event-bubbling">
<h2><span class="section-number">23.5.3. </span>Event Bubbling<a class="headerlink" href="#event-bubbling" title="Permalink to this headline">¶</a></h2>
<p id="index-2">Remember that the DOM is a tree of elements with an <code class="docutils literal notranslate"><span class="pre">&lt;html&gt;</span></code> element at the root. The tree
structure of an html page is made of elements inside of elements. That layering effect can cause
some events, like <em>click</em>, to be triggered on a series of elements. <strong>Bubbling</strong>
refers to an event being propagated to ancestor elements, when an event is triggered on an
element that has parent elements. Events are triggered first on the element that is most closely
affected by the event.</p>
<div class="admonition-example admonition">
<p class="admonition-title"><i class="fas fa-binoculars" aria-hidden="true"></i>Example</p>
<p>We can add a <em>click</em> handler to a <code class="docutils literal notranslate"><span class="pre">&lt;button&gt;</span></code>, a <code class="docutils literal notranslate"><span class="pre">&lt;div&gt;</span></code>, and the <code class="docutils literal notranslate"><span class="pre">&lt;html&gt;</span></code> element via the <code class="docutils literal notranslate"><span class="pre">document</span></code>
global variable.</p>
<div class="highlight-html notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
   <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>Event Bubbling<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
   <span class="p">&lt;</span><span class="nt">style</span><span class="p">&gt;</span>
      <span class="p">#</span><span class="nn">toolbar</span> <span class="p">{</span>
          <span class="k">padding</span><span class="p">:</span> <span class="mi">20</span><span class="kt">px</span><span class="p">;</span>
          <span class="k">border</span><span class="p">:</span> <span class="mi">1</span><span class="kt">px</span> <span class="kc">solid</span> <span class="kc">black</span><span class="p">;</span>
          <span class="k">background-color</span><span class="p">:</span><span class="kc">darkcyan</span><span class="p">;</span>
      <span class="p">}</span>
  <span class="p">&lt;/</span><span class="nt">style</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
   <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;toolbar&quot;</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">button</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;ring-button&quot;</span><span class="p">&gt;</span>Ring Bell<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
   <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
   <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
      <span class="kd">let</span> <span class="nx">button</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;ring-button&quot;</span><span class="p">);</span>
      <span class="nx">button</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">&quot;click&quot;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
          <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;button clicked&quot;</span><span class="p">);</span>
      <span class="p">});</span>
      <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;toolbar&quot;</span><span class="p">).</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">&quot;click&quot;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
          <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;toolbar clicked&quot;</span><span class="p">);</span>
      <span class="p">});</span>
      <span class="nb">document</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">&quot;click&quot;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
          <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;document clicked&quot;</span><span class="p">);</span>
      <span class="p">});</span>
   <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre></div>
</td></tr></table></div>
<p><strong>Console Output</strong> (if button is clicked)</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>button clicked
toolbar clicked
document clicked
</pre></div>
</div>
</div>
<p>In some cases, you may want to stop events from bubbling up. We can use <code class="docutils literal notranslate"><span class="pre">event.stopPropagation()</span></code> to stop
events from being sent to ancestor elements. Handlers for parent elements will not be triggered if
a child element calls <code class="docutils literal notranslate"><span class="pre">event.stopPropagation()</span></code>.</p>
<div class="highlight-js notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nx">button</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">&quot;click&quot;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;button clicked&quot;</span><span class="p">);</span>
   <span class="nx">event</span><span class="p">.</span><span class="nx">stopPropagation</span><span class="p">();</span>
<span class="p">});</span>
</pre></div>
</td></tr></table></div>
<div class="admonition-try-it admonition">
<p class="admonition-title"><i class="fas fa-puzzle-piece" aria-hidden="true"></i>Try It!</p>
<p>With the HTML above, what happens when you click in the green?</p>
<p>After you see the result, try adding <code class="docutils literal notranslate"><span class="pre">stopPropagation()</span></code> to the button click handler and seeing what happens when you click the button.</p>
<p><a class="reference external" href="https://repl.it/&#64;launchcode/Try-It-Event-Bubbling/" target="_blank">Try it at repl.it<i class="fas fa-external-link-alt" aria-hidden="true"></i></a></p>
</div>
</div>
<div class="section" id="check-your-understanding">
<h2><span class="section-number">23.5.4. </span>Check Your Understanding<a class="headerlink" href="#check-your-understanding" title="Permalink to this headline">¶</a></h2>
<div class="admonition-question admonition">
<p class="admonition-title"><i class="fas fa-question" aria-hidden="true"></i>Question</p>
<p>Do these code snippets have the same effect?
<code class="docutils literal notranslate"><span class="pre">button.addEventListener(&quot;click&quot;,</span> <span class="pre">youRang)</span></code> and <code class="docutils literal notranslate"><span class="pre">&lt;button</span> <span class="pre">onclick=&quot;youRang();&quot;&gt;</span></code></p>
</div>
<div class="admonition-question admonition">
<p class="admonition-title"><i class="fas fa-question" aria-hidden="true"></i>Question</p>
<p>Can <em>click</em> events be prevented from bubbling up to ancestor element(s)?</p>
</div>
<div class="admonition-question admonition">
<p class="admonition-title"><i class="fas fa-question" aria-hidden="true"></i>Question</p>
<p>What is passed as the <em>argument</em> to the event handler function?</p>
</div>
</div>
</div>



    
    <nav aria-label="Next and Previous Pages">
      <ul class="pager">
        
        <li class="previous"><a href="events.html"><span aria-hidden="true">&larr;</span> <span class="section-number">23.4. </span>Events</a></li>
        
        
        <li class="next"><a href="event-types.html"><span class="section-number">23.6. </span>Event Types <span aria-hidden="true">&rarr;</span></a></li>
        
      </ul>
    </nav>
    
    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>