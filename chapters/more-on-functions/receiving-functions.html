<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>11.4. Receiving Function Arguments &#8212; Introduction to Professional Web Development in JavaScript  documentation</title>
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/fa/css/all.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/launchcode.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/site.css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="11.5. Why Use Anonymous Functions?" href="why-use-anonymous-functions.html" />
    <link rel="prev" title="11.3. Passing Functions as Arguments" href="passing-functions.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../../_static/js/jquery-1.12.4.min.js"></script>
<script type="text/javascript" src="../../_static/js/jquery-fix.js"></script>
<script type="text/javascript" src="../../_static/bootstrap-3.4.1/js/bootstrap.min.js"></script>
<script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>

  </head><body class="body-bc">

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../index.html"><span><img src="../../_static/lc-ed-logo.png" alt="LaunchCode logo"></span>
        </a>
        <span class="navbar-text navbar-version pull-left"><b></b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              
            
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
    <label for="q" class="searchLabel">Search</label>
    <input type="text" name="q" class="form-control" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<ol class="breadcrumb container">
    <li><a href="../../index.html">Contents</a></li>
    <li><a href="index.html"><span class="section-number">11. </span>More on Functions</a></li>
    <li class="active"><span class="section-number">11.4. </span>Receiving Function Arguments</li>
</ol>



<div class="container">
  <div class="row">
    <div class="col-md-10 col-md-offset-1 content " role="main">

    
  <div class="section" id="receiving-function-arguments">
<h1><span class="section-number">11.4. </span>Receiving Function Arguments<a class="headerlink" href="#receiving-function-arguments" title="Permalink to this headline">¶</a></h1>
<p>The previous section illustrates how a function can be passed to another
function as an argument. This section takes the opposite perspective to
<em>write</em> functions that can take other functions as arguments.</p>
<div class="section" id="example-a-generic-input-validator">
<h2><span class="section-number">11.4.1. </span>Example: A Generic Input Validator<a class="headerlink" href="#example-a-generic-input-validator" title="Permalink to this headline">¶</a></h2>
<p>Our first example will be a generic input validator. It asks the user for some
input, using the <code class="docutils literal notranslate"><span class="pre">prompt</span></code> parameter for the text of the question. A second
parameter receives a function that does the actual work of validating the
input.</p>
<div class="admonition-example admonition">
<p class="admonition-title"><i class="fas fa-binoculars" aria-hidden="true"></i>Example</p>
<div class="highlight-js notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">const</span> <span class="nx">input</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;readline-sync&#39;</span><span class="p">);</span>

<span class="kd">function</span> <span class="nx">getValidInput</span><span class="p">(</span><span class="nx">prompt</span><span class="p">,</span> <span class="nx">isValid</span><span class="p">)</span> <span class="p">{</span>

   <span class="c1">// Prompt the user, using the prompt string that was passed</span>
   <span class="kd">let</span> <span class="nx">userInput</span> <span class="o">=</span> <span class="nx">input</span><span class="p">.</span><span class="nx">question</span><span class="p">(</span><span class="nx">prompt</span><span class="p">);</span>

   <span class="c1">// Call the boolean function isValid to check the input</span>
   <span class="k">while</span> <span class="p">(</span><span class="o">!</span><span class="nx">isValid</span><span class="p">(</span><span class="nx">userInput</span><span class="p">))</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Invalid input. Try again.&quot;</span><span class="p">);</span>
      <span class="nx">userInput</span> <span class="o">=</span> <span class="nx">input</span><span class="p">.</span><span class="nx">question</span><span class="p">(</span><span class="nx">prompt</span><span class="p">);</span>
   <span class="p">}</span>

   <span class="k">return</span> <span class="nx">userInput</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// A boolean function for validating input</span>
<span class="kd">let</span> <span class="nx">isEven</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">n</span><span class="p">)</span> <span class="p">{</span>
   <span class="k">return</span> <span class="nb">Number</span><span class="p">(</span><span class="nx">n</span><span class="p">)</span> <span class="o">%</span> <span class="mf">2</span> <span class="o">===</span> <span class="mf">0</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">getValidInput</span><span class="p">(</span><span class="s1">&#39;Enter an even number:&#39;</span><span class="p">,</span> <span class="nx">isEven</span><span class="p">));</span>
</pre></div>
</td></tr></table></div>
<p><strong>Sample Output</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Enter an even number: 3
Invalid input. Try again.
Enter an even number: 5
Invalid input. Try again.
Enter an even number: 4
4
</pre></div>
</div>
<p>When we call <code class="docutils literal notranslate"><span class="pre">getValidInput</span></code> on line 22, we pass it the string
<code class="docutils literal notranslate"><span class="pre">'Enter</span> <span class="pre">an</span> <span class="pre">even</span> <span class="pre">number:'</span></code>, which gets assigned to the <code class="docutils literal notranslate"><span class="pre">prompt</span></code>
parameter.</p>
<p>Notice that we also pass in the function <code class="docutils literal notranslate"><span class="pre">isEven</span></code> (with no arguments).
This gets assigned to the <code class="docutils literal notranslate"><span class="pre">isValid</span></code> parameter.</p>
</div>
<p>The function <code class="docutils literal notranslate"><span class="pre">getValidInput</span></code> handles the work of interacting with the user, while allowing the validation logic to be customized. This separates the different concerns of validation and user interaction, sticking to the idea that <em>a function should do only one thing</em>. It also enables more reusable code. If we need to get different input from the user, we can simply call <code class="docutils literal notranslate"><span class="pre">getValidInput</span></code> with different arguments.</p>
<div class="admonition-example admonition">
<p class="admonition-title"><i class="fas fa-binoculars" aria-hidden="true"></i>Example</p>
<p>This example uses the same <code class="docutils literal notranslate"><span class="pre">getValidInput</span></code> function defined above with a different prompt and validator function. In this case, we check that a potential password has at least 8 characters.</p>
<div class="highlight-js notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">const</span> <span class="nx">input</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;readline-sync&#39;</span><span class="p">);</span>

<span class="kd">function</span> <span class="nx">getValidInput</span><span class="p">(</span><span class="nx">prompt</span><span class="p">,</span> <span class="nx">isValid</span><span class="p">)</span> <span class="p">{</span>

   <span class="kd">let</span> <span class="nx">userInput</span> <span class="o">=</span> <span class="nx">input</span><span class="p">.</span><span class="nx">question</span><span class="p">(</span><span class="nx">prompt</span><span class="p">);</span>

   <span class="k">while</span> <span class="p">(</span><span class="o">!</span><span class="nx">isValid</span><span class="p">(</span><span class="nx">userInput</span><span class="p">))</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Invalid input. Try again.&quot;</span><span class="p">);</span>
      <span class="nx">userInput</span> <span class="o">=</span> <span class="nx">input</span><span class="p">.</span><span class="nx">question</span><span class="p">(</span><span class="nx">prompt</span><span class="p">);</span>
   <span class="p">}</span>

   <span class="k">return</span> <span class="nx">userInput</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">let</span> <span class="nx">isValidPassword</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">password</span><span class="p">)</span> <span class="p">{</span>

   <span class="c1">// Passwords should have at least 8 characters</span>
   <span class="k">if</span> <span class="p">(</span><span class="nx">password</span><span class="p">.</span><span class="nx">length</span> <span class="o">&lt;</span> <span class="mf">8</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
   <span class="p">}</span>

   <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">getValidInput</span><span class="p">(</span><span class="s1">&#39;Create a password:&#39;</span><span class="p">,</span> <span class="nx">isValidPassword</span><span class="p">));</span>
</pre></div>
</td></tr></table></div>
<p><strong>Sample Output</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Create a password: launch
Invalid input. Try again.
Create a password: code
Invalid input. Try again.
Create a password: launchcode
launchcode
</pre></div>
</div>
</div>
<div class="admonition-try-it admonition">
<p class="admonition-title"><i class="fas fa-puzzle-piece" aria-hidden="true"></i>Try It!</p>
<ol class="arabic simple">
<li><p>Use our <code class="docutils literal notranslate"><span class="pre">getValidInput</span></code> function to ensure user input starts with &quot;a&quot;.</p></li>
<li><p>Create another validator that ensures user input is a vowel.</p></li>
</ol>
<p><a class="reference external" href="https://repl.it/&#64;launchcode/Validator-check" target="_blank">Try it at repl.it<i class="fas fa-external-link-alt" aria-hidden="true"></i></a></p>
</div>
</div>
<div class="section" id="example-a-logger">
<h2><span class="section-number">11.4.2. </span>Example: A Logger<a class="headerlink" href="#example-a-logger" title="Permalink to this headline">¶</a></h2>
<p>Another common example of a function using another function to customize its behavior is that of logging. Real-world applications are capable of logging messages such as errors, warnings, and statuses. Such applications allow for log messages to be sent to one or more destinations. For example, the application may log messages to both the console and to a file.</p>
<p>We can write a logging function that relies on a function parameter to determine the logging destination.</p>
<div class="section" id="a-simple-logger">
<h3><span class="section-number">11.4.2.1. </span>A Simple Logger<a class="headerlink" href="#a-simple-logger" title="Permalink to this headline">¶</a></h3>
<div class="admonition-example admonition">
<p class="admonition-title"><i class="fas fa-binoculars" aria-hidden="true"></i>Example</p>
<p>The <code class="docutils literal notranslate"><span class="pre">logError</span></code> function outputs a standardized error message to a location determined by the parameter <code class="docutils literal notranslate"><span class="pre">logger</span></code>.</p>
<div class="highlight-js notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">let</span> <span class="nx">fileLogger</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">msg</span><span class="p">)</span> <span class="p">{</span>

   <span class="c1">// Put the message in a file</span>

<span class="p">}</span>

<span class="kd">function</span> <span class="nx">logError</span><span class="p">(</span><span class="nx">msg</span><span class="p">,</span> <span class="nx">logger</span><span class="p">)</span> <span class="p">{</span>
   <span class="kd">let</span> <span class="nx">errorMsg</span> <span class="o">=</span> <span class="s1">&#39;ERROR: &#39;</span> <span class="o">+</span> <span class="nx">msg</span><span class="p">;</span>
   <span class="nx">logger</span><span class="p">(</span><span class="nx">errorMsg</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">logError</span><span class="p">(</span><span class="s1">&#39;Something broke!&#39;</span><span class="p">,</span> <span class="nx">fileLogger</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
</div>
<p>Let's examine this example in more detail.</p>
<p>There are three main program components:</p>
<ol class="arabic simple">
<li><p>Lines 1-5 define <code class="docutils literal notranslate"><span class="pre">fileLogger</span></code>, which takes a string argument, <code class="docutils literal notranslate"><span class="pre">msg</span></code>. We have not discussed writing to a file, but Node.js is capable of doing so.</p></li>
<li><p>Lines 7-10 define <code class="docutils literal notranslate"><span class="pre">logError</span></code>. The first parameter is the message to be logged. The second parameter is the logging function that will do the work of sending the message somewhere. <code class="docutils literal notranslate"><span class="pre">logError</span></code> doesn't know the details of how the message will be logged. It simply formats the message, and calls <code class="docutils literal notranslate"><span class="pre">logger</span></code>.</p></li>
<li><p>Line 12 logs an error using the <code class="docutils literal notranslate"><span class="pre">fileLogger</span></code>.</p></li>
</ol>
<p>This is the flow of execution:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">logError</span></code> is called, with a message and the logging function <code class="docutils literal notranslate"><span class="pre">fileLogger</span></code> passed as arguments.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">logError</span></code> runs, passing the constructed message to <code class="docutils literal notranslate"><span class="pre">logger</span></code>, which refers to <code class="docutils literal notranslate"><span class="pre">fileLogger</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fileLogger</span></code> executes, sending the message to a file.</p></li>
</ol>
</div>
<div class="section" id="a-more-complex-logger">
<h3><span class="section-number">11.4.2.2. </span>A More Complex Logger<a class="headerlink" href="#a-more-complex-logger" title="Permalink to this headline">¶</a></h3>
<p>This example can be made even more powerful by enabling multiple loggers.</p>
<div class="admonition-example admonition">
<p class="admonition-title"><i class="fas fa-binoculars" aria-hidden="true"></i>Example</p>
<p>The call to <code class="docutils literal notranslate"><span class="pre">logError</span></code> will log the message to both the console and a file.</p>
<div class="highlight-js notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">let</span> <span class="nx">fileLogger</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">msg</span><span class="p">)</span> <span class="p">{</span>

   <span class="c1">// Put the message in a file</span>

<span class="p">}</span>

<span class="kd">let</span> <span class="nx">consoleLogger</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">msg</span><span class="p">)</span> <span class="p">{</span>

   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">msg</span><span class="p">);</span>

<span class="p">}</span>

<span class="kd">function</span> <span class="nx">logError</span><span class="p">(</span><span class="nx">msg</span><span class="p">,</span> <span class="nx">loggers</span><span class="p">)</span> <span class="p">{</span>

   <span class="kd">let</span> <span class="nx">errorMsg</span> <span class="o">=</span> <span class="s1">&#39;ERROR: &#39;</span> <span class="o">+</span> <span class="nx">msg</span><span class="p">;</span>

   <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mf">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">loggers</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">loggers</span><span class="p">[</span><span class="nx">i</span><span class="p">](</span><span class="nx">errorMsg</span><span class="p">);</span>
   <span class="p">}</span>

<span class="p">}</span>

<span class="nx">logError</span><span class="p">(</span><span class="s1">&#39;Something broke!&#39;</span><span class="p">,</span> <span class="p">[</span><span class="nx">fileLogger</span><span class="p">,</span> <span class="nx">consoleLogger</span><span class="p">]);</span>
</pre></div>
</td></tr></table></div>
</div>
<p>The main change to the program is that <code class="docutils literal notranslate"><span class="pre">logError</span></code> now accepts an <em>array</em> of functions. It loops through the array, calling each logger with the message string.</p>
<p>As with the validation example, these programs separate behaviors in a way that makes the code more flexible. To add or remove a logging destination, we can simply change the way that we call <code class="docutils literal notranslate"><span class="pre">logError</span></code>. The code <em>inside</em> <code class="docutils literal notranslate"><span class="pre">logError</span></code> doesn't know how each logging function does its job. It is concerned only with creating the message string and passing it to the logger(s).</p>
</div>
</div>
<div class="section" id="a-word-of-caution">
<h2><span class="section-number">11.4.3. </span>A Word of Caution<a class="headerlink" href="#a-word-of-caution" title="Permalink to this headline">¶</a></h2>
<p>What happens if a function expects an argument to be a function, but it isn't?</p>
<div class="admonition-try-it admonition">
<p class="admonition-title"><i class="fas fa-puzzle-piece" aria-hidden="true"></i>Try It!</p>
<div class="highlight-js notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">callMe</span><span class="p">(</span><span class="nx">func</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">func</span><span class="p">();</span>
<span class="p">}</span>

<span class="nx">callMe</span><span class="p">(</span><span class="s2">&quot;Al&quot;</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p class="repl-link"><a class="reference external" href="https://repl.it/&#64;launchcode/TypeError-Example" target="_blank">repl.it<i class="fas fa-external-link-alt" aria-hidden="true"></i></a></p>
</div>
<div class="admonition-question admonition">
<p class="admonition-title"><i class="fas fa-question" aria-hidden="true"></i>Question</p>
<p>What type of error occurs when attempting to use a value that is NOT a function as if it were one?</p>
</div>
</div>
</div>



    
    <nav aria-label="Next and Previous Pages">
      <ul class="pager">
        
        <li class="previous"><a href="passing-functions.html"><span aria-hidden="true">&larr;</span> <span class="section-number">11.3. </span>Passing Functions as Arguments</a></li>
        
        
        <li class="next"><a href="why-use-anonymous-functions.html"><span class="section-number">11.5. </span>Why Use Anonymous Functions? <span aria-hidden="true">&rarr;</span></a></li>
        
      </ul>
    </nav>
    
    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>