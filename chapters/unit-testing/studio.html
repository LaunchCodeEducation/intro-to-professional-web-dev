<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>14.7. Studio: Unit Testing &#8212; Introduction to Professional Web Development in JavaScript  documentation</title>
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/fa/css/all.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/launchcode.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/site.css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="15. Scope" href="../scope/index.html" />
    <link rel="prev" title="14.6. Exercises: Unit Testing" href="exercises.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../../_static/js/jquery-1.12.4.min.js"></script>
<script type="text/javascript" src="../../_static/js/jquery-fix.js"></script>
<script type="text/javascript" src="../../_static/bootstrap-3.4.1/js/bootstrap.min.js"></script>
<script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>

  </head><body class="body-bc">

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../index.html"><span><img src="../../_static/lc-ed-logo.png" alt="LaunchCode logo"></span>
        </a>
        <span class="navbar-text navbar-version pull-left"><b></b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              
            
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
    <label for="q" class="searchLabel">Search</label>
    <input type="text" name="q" class="form-control" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<ol class="breadcrumb container">
    <li><a href="../../index.html">Contents</a></li>
    <li><a href="index.html"><span class="section-number">14. </span>Unit Testing</a></li>
    <li class="active"><span class="section-number">14.7. </span>Studio: Unit Testing</li>
</ol>



<div class="container">
  <div class="row">
    <div class="col-md-10 col-md-offset-1 content " role="main">

    
  <div class="section" id="studio-unit-testing">
<h1><span class="section-number">14.7. </span>Studio: Unit Testing<a class="headerlink" href="#studio-unit-testing" title="Permalink to this headline">¶</a></h1>
<p>LaunchCode's Marketing Team needs your help! To make the website more maintainable, they thought an object called <code class="docutils literal notranslate"><span class="pre">launchcode</span></code> that contains important facts and functions they need would be helpful.
This way if they need to make a change to one of the facts, they just have to change the object in one place as opposed to going through pages of code to make the change in every place.</p>
<p>Here is what they need the <code class="docutils literal notranslate"><span class="pre">launchcode</span></code> object to contain:</p>
<ol class="arabic simple">
<li><p>A key called <code class="docutils literal notranslate"><span class="pre">organization</span></code> with a value of <code class="docutils literal notranslate"><span class="pre">&quot;nonprofit&quot;</span></code>.</p></li>
<li><p>A key called <code class="docutils literal notranslate"><span class="pre">executiveDirector</span></code> with a value of <code class="docutils literal notranslate"><span class="pre">&quot;Jeff&quot;</span></code>.</p></li>
<li><p>A key called <code class="docutils literal notranslate"><span class="pre">percentageCoolEmployees</span></code> with a value of <code class="docutils literal notranslate"><span class="pre">100</span></code>.</p></li>
<li><p>A key called <code class="docutils literal notranslate"><span class="pre">programsOffered</span></code> with a value of <code class="docutils literal notranslate"><span class="pre">[&quot;LC101&quot;,</span> <span class="pre">&quot;LaunchCode</span> <span class="pre">Women+&quot;,</span> <span class="pre">&quot;CodeCamp&quot;]</span></code>.</p></li>
<li><p>And a method called <code class="docutils literal notranslate"><span class="pre">launchOutput()</span></code>. This method will return a string.</p></li>
</ol>
<p>Let's use Test-Driven Development to write this code! Rather than complete the code and <em>then</em> test it, TDD flips the process:</p>
<ol class="arabic simple">
<li><p>Write a test first - one that checks the program for a specific outcome.</p></li>
<li><p>Run the test to make sure it fails.</p></li>
<li><p>Write a code snippet that passes the test.</p></li>
<li><p>Repeat steps 1 - 3 for the remaining features of the program.</p></li>
<li><p>Examine the code and test scripts, and refactor them to increase efficiency.
Remember the DRY idea (Don't Repeat Yourself).</p></li>
</ol>
<div class="admonition">
<p class="admonition-title"><i class="fas fa-exclamation-triangle" aria-hidden="true"></i>Warning</p>
<p>After forking the below replit it will begin to migrate and you will receive a notification that the repl is being upgraded to the latest environment. This migration changes the initial file structure of the repl itself. Once the migration is complete you can run your tests by running the command <code class="docutils literal notranslate"><span class="pre">npm</span> <span class="pre">test</span></code> within the Shell. You can also reference back to the <a class="reference external" href="https://education.launchcode.org/intro-to-professional-web-dev/chapters/unit-testing/hello-jasmine.html" target="_blank">Hello, Jasmine!<i class="fas fa-external-link-alt" aria-hidden="true"></i></a> section of the textbook to set up the repl to run tests as described in that chapter. It may also be wise to revisit the <a class="reference external" href="https://education.launchcode.org/intro-to-professional-web-dev/appendices/tested-code.html" target="_blank">Tested Code chapter<i class="fas fa-external-link-alt" aria-hidden="true"></i></a> for more information.</p>
</div>
<div class="section" id="source-code">
<h2><span class="section-number">14.7.1. </span>Source Code<a class="headerlink" href="#source-code" title="Permalink to this headline">¶</a></h2>
<p>Open this <a class="reference external" href="https://replit.com/&#64;launchcode/UnitTestingStudio#index.js" target="_blank">repl<i class="fas fa-external-link-alt" aria-hidden="true"></i></a> and note the files:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">index.js</span></code> holds the object we want to design.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">launchcode.spec.js</span></code> holds the testing script.</p></li>
</ol>
<p>The files are mostly empty. Only a framework has been provided for you.</p>
</div>
<div class="section" id="start-with-the-properties">
<h2><span class="section-number">14.7.2. </span>Start With the Properties<a class="headerlink" href="#start-with-the-properties" title="Permalink to this headline">¶</a></h2>
<p>Let's start our work with the properties we need to add to the object.</p>
<div class="section" id="organization">
<h3><span class="section-number">14.7.2.1. </span><code class="docutils literal notranslate"><span class="pre">organization</span></code><a class="headerlink" href="#organization" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><p>Inside the <code class="docutils literal notranslate"><span class="pre">describe</span></code> function in <code class="docutils literal notranslate"><span class="pre">launchcode.spec.js</span></code>, write a test that will check that the value of <code class="docutils literal notranslate"><span class="pre">organization</span></code> is <code class="docutils literal notranslate"><span class="pre">&quot;nonprofit&quot;</span></code>. Run your test.</p></li>
<li><p>With your test complete, turn your attention to <code class="docutils literal notranslate"><span class="pre">launchcode.js</span></code> and add the <code class="docutils literal notranslate"><span class="pre">organization</span></code> property to <code class="docutils literal notranslate"><span class="pre">launchcode</span></code>.</p></li>
<li><p>Run your tests to make sure that everything works as expected.</p></li>
</ol>
</div>
<div class="section" id="executivedirector">
<h3><span class="section-number">14.7.2.2. </span><code class="docutils literal notranslate"><span class="pre">executiveDirector</span></code><a class="headerlink" href="#executivedirector" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><p>Write a new test that will check that the value of <code class="docutils literal notranslate"><span class="pre">executiveDirector</span></code> is <code class="docutils literal notranslate"><span class="pre">&quot;Jeff&quot;</span></code>. Run your test.</p></li>
<li><p>Add the <code class="docutils literal notranslate"><span class="pre">executiveDirector</span></code> property to <code class="docutils literal notranslate"><span class="pre">launchcode</span></code>.</p></li>
<li><p>Run your tests!</p></li>
</ol>
</div>
<div class="section" id="percentagecoolemployees">
<h3><span class="section-number">14.7.2.3. </span><code class="docutils literal notranslate"><span class="pre">percentageCoolEmployees</span></code><a class="headerlink" href="#percentagecoolemployees" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><p>Write another test that will check that the value of <code class="docutils literal notranslate"><span class="pre">percentageCoolEmployees</span></code>. Run your test.</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">percentageCoolEmployees</span></code> to <code class="docutils literal notranslate"><span class="pre">launchcode</span></code>.</p></li>
<li><p>Run your tests!</p></li>
</ol>
</div>
<div class="section" id="programsoffered">
<h3><span class="section-number">14.7.2.4. </span><code class="docutils literal notranslate"><span class="pre">programsOffered</span></code><a class="headerlink" href="#programsoffered" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><p>Write a fourth test that will check the value of <code class="docutils literal notranslate"><span class="pre">programsOffered</span></code>. You should have four <code class="docutils literal notranslate"><span class="pre">expect</span></code> statements within your test. Three of them should check that the array contains the appropriate values and the final one should check that the array is the appropriate size.
Before moving on, take a moment either individually or with a classmate, to reflect on why you would need these four <code class="docutils literal notranslate"><span class="pre">expect</span></code> statements. Run your test.</p></li>
<li><p>Add the <code class="docutils literal notranslate"><span class="pre">programsOffered</span></code> property to <code class="docutils literal notranslate"><span class="pre">launchcode</span></code>.</p></li>
<li><p>Run your tests!</p></li>
</ol>
<p>You now have the properties set up for the <code class="docutils literal notranslate"><span class="pre">launchcode</span></code> object. Time to move on to creating the <code class="docutils literal notranslate"><span class="pre">launchOutput()</span></code> method.</p>
</div>
</div>
<div class="section" id="launchoutput">
<h2><span class="section-number">14.7.3. </span><code class="docutils literal notranslate"><span class="pre">launchOutput()</span></code><a class="headerlink" href="#launchoutput" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">launchOutput()</span></code> needs to meet the following conditions:</p>
<ol class="arabic simple">
<li><p>When passed a number that is ONLY divisible by 2, return <code class="docutils literal notranslate"><span class="pre">'Launch!'</span></code></p></li>
<li><p>When passed a number that is ONLY divisible by 3, return <code class="docutils literal notranslate"><span class="pre">'Code!'</span></code></p></li>
<li><p>When passed a number that is ONLY divisible by 5, return <code class="docutils literal notranslate"><span class="pre">'Rocks!'</span></code></p></li>
<li><p>When passed a number that is divisible by 2 AND 3, return <code class="docutils literal notranslate"><span class="pre">'LaunchCode!'</span></code></p></li>
<li><p>When passed a number that is divisible by 3 AND 5, return <code class="docutils literal notranslate"><span class="pre">'Code</span> <span class="pre">Rocks!'</span></code></p></li>
<li><p>When passed a number that is divisible by 2 AND 5, return
<code class="docutils literal notranslate"><span class="pre">'Launch</span> <span class="pre">Rocks!'</span></code></p></li>
<li><p>When passed a number that is divisible by 2, 3, AND 5, return <code class="docutils literal notranslate"><span class="pre">'LaunchCode</span>
<span class="pre">Rocks!'</span></code></p></li>
<li><p>When passed a number that is NOT divisible by 2, 3, or 5, return
<code class="docutils literal notranslate"><span class="pre">'Rutabagas!</span> <span class="pre">That</span> <span class="pre">doesn't</span> <span class="pre">work.'</span></code></p></li>
</ol>
<p>To make sure that you meet all of these conditions, you need to take it one test at a time.</p>
<div class="section" id="write-the-first-test">
<h3><span class="section-number">14.7.3.1. </span>Write the First Test<a class="headerlink" href="#write-the-first-test" title="Permalink to this headline">¶</a></h3>
<p>In <code class="docutils literal notranslate"><span class="pre">launchcode.spec.js</span></code>, complete the <code class="docutils literal notranslate"><span class="pre">describe</span></code> function by adding a
test for condition #1:</p>
<blockquote>
<div><p>When passed a number that is ONLY divisible by 2, <code class="docutils literal notranslate"><span class="pre">launchOutput()</span></code> returns <code class="docutils literal notranslate"><span class="pre">'Launch!'</span></code></p>
</div></blockquote>
<p>Run the test. It should fail because there is no code inside <code class="docutils literal notranslate"><span class="pre">launchOutput()</span></code>
yet!</p>
</div>
<div class="section" id="write-code-to-pass-the-first-test">
<h3><span class="section-number">14.7.3.2. </span>Write Code to Pass the First Test<a class="headerlink" href="#write-code-to-pass-the-first-test" title="Permalink to this headline">¶</a></h3>
<p>In <code class="docutils literal notranslate"><span class="pre">launchCodeRocks.js</span></code>, use an <code class="docutils literal notranslate"><span class="pre">if</span></code> statement inside the <code class="docutils literal notranslate"><span class="pre">launchOutput()</span></code>
function to check if the parameter is evenly divisible by 2, and then return an
output. (<em>Hint: modulus</em>).</p>
<p>Run the test script again to see if your code passes. If not, modify
<code class="docutils literal notranslate"><span class="pre">launchOutput()</span></code> until it does.</p>
</div>
<div class="section" id="write-the-next-two-tests">
<h3><span class="section-number">14.7.3.3. </span>Write the Next Two Tests<a class="headerlink" href="#write-the-next-two-tests" title="Permalink to this headline">¶</a></h3>
<p>In <code class="docutils literal notranslate"><span class="pre">launchCodeRocks.spec.js</span></code>, add tests for the conditions:</p>
<ol class="arabic simple">
<li><p>When passed a number that is ONLY divisible by 3, <code class="docutils literal notranslate"><span class="pre">launchOutput()</span></code> returns
<code class="docutils literal notranslate"><span class="pre">'Code!'</span></code></p></li>
<li><p>When passed a number that is ONLY divisible by 5, <code class="docutils literal notranslate"><span class="pre">launchOutput()</span></code> returns
<code class="docutils literal notranslate"><span class="pre">'Rocks!'</span></code></p></li>
</ol>
<p>Run the tests. The two new ones should fail, but the first
should still pass. Modify the <code class="docutils literal notranslate"><span class="pre">it</span></code> statements as needed if you see a
different result.</p>
</div>
<div class="section" id="write-code-to-pass-the-new-tests">
<h3><span class="section-number">14.7.3.4. </span>Write Code to Pass the New Tests<a class="headerlink" href="#write-code-to-pass-the-new-tests" title="Permalink to this headline">¶</a></h3>
<p>Add more code inside <code class="docutils literal notranslate"><span class="pre">launchOutput()</span></code> to check if the parameter is evenly
divisible by 2, 3, or 5, and then return an output based on the result.</p>
<p>Run the test script again to see if your code passes all three tests. If not,
modify <code class="docutils literal notranslate"><span class="pre">launchOutput()</span></code> until it does.</p>
</div>
<div class="section" id="hmmm-tricky">
<h3><span class="section-number">14.7.3.5. </span>Hmmm, Tricky<a class="headerlink" href="#hmmm-tricky" title="Permalink to this headline">¶</a></h3>
<p>In <code class="docutils literal notranslate"><span class="pre">launchCodeRocks.spec.js</span></code>, add a test for the condition:</p>
<blockquote>
<div><p>When passed a number that is divisible by 2 AND 3, <code class="docutils literal notranslate"><span class="pre">launchOutput()</span></code> returns <code class="docutils literal notranslate"><span class="pre">'LaunchCode!'</span></code> (not <code class="docutils literal notranslate"><span class="pre">'Launch!Code!'</span></code>).</p>
</div></blockquote>
<p>Run the tests. Only the new one should fail.</p>
<p>Modify <code class="docutils literal notranslate"><span class="pre">launchOutput()</span></code> until the function passes all four of the tests.</p>
</div>
<div class="section" id="more-tests-and-code-snippets">
<h3><span class="section-number">14.7.3.6. </span>More Tests and Code Snippets<a class="headerlink" href="#more-tests-and-code-snippets" title="Permalink to this headline">¶</a></h3>
<p>Continue adding ONE test at a time for the remaining conditions. After you add
EACH new test, run the script to make sure it FAILS, while the previous tests
still pass.</p>
<p>Modify <code class="docutils literal notranslate"><span class="pre">launchOutput()</span></code> until the function passes the new test and all of the
old ones.</p>
<p>Presto! By starting with the <em>testing</em> script, you constructed <code class="docutils literal notranslate"><span class="pre">launchOutput()</span></code>
one segment at a time. The result is complete, valid code that has already
been checked for accuracy.</p>
</div>
</div>
<div class="section" id="new-condition">
<h2><span class="section-number">14.7.4. </span>New Condition<a class="headerlink" href="#new-condition" title="Permalink to this headline">¶</a></h2>
<p>Now that your function passes all 8 tests, let's change one of the conditions.
For the case where a number is divisible by both 2 and 5, instead of returning
<code class="docutils literal notranslate"><span class="pre">'Launch</span> <span class="pre">Rocks!'</span></code>, we want the function to return <code class="docutils literal notranslate"><span class="pre">'Launch</span> <span class="pre">Rocks!</span>
<span class="pre">(CRASH!!!!)'</span></code>.</p>
<p>Modify the testing and function code to deal with this new condition.</p>
</div>
<div class="section" id="bonus-missions">
<h2><span class="section-number">14.7.5. </span>Bonus Missions<a class="headerlink" href="#bonus-missions" title="Permalink to this headline">¶</a></h2>
<div class="section" id="drying-the-code">
<h3><span class="section-number">14.7.5.1. </span>DRYing the Code<a class="headerlink" href="#drying-the-code" title="Permalink to this headline">¶</a></h3>
<p>Examine <code class="docutils literal notranslate"><span class="pre">launchOutput()</span></code> and the <code class="docutils literal notranslate"><span class="pre">describe</span></code> functions. Notice that there is
quite a bit of repetition in the code.</p>
<p>Try adding arrays, objects, and/or loops to refactor the code into a more
efficient structure.</p>
</div>
</div>
</div>



    
    <nav aria-label="Next and Previous Pages">
      <ul class="pager">
        
        <li class="previous"><a href="exercises.html"><span aria-hidden="true">&larr;</span> <span class="section-number">14.6. </span>Exercises: Unit Testing</a></li>
        
        
        <li class="next"><a href="../scope/index.html"><span class="section-number">15. </span>Scope <span aria-hidden="true">&rarr;</span></a></li>
        
      </ul>
    </nav>
    
    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>