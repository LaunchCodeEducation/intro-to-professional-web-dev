<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>26.3. Fetching Data &#8212; Introduction to Professional Web Development in JavaScript  documentation</title>
    <link rel="stylesheet" href="../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/fa/css/all.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/launchcode.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/site.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="26.4. Asynchronous and Promises" href="asynchronous.html" />
    <link rel="prev" title="26.2. Data Formats and JSON" href="data-formats-json.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head><body class="body-bc">

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../index.html"><span><img src="../../_static/lc-ed-logo.png" alt="LaunchCode logo"></span>
        </a>
        <span class="navbar-text navbar-version pull-left"><b></b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              
            
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
    <label for="q" class="searchLabel">Search</label>
    <input type="text" name="q" class="form-control" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<ol class="breadcrumb container">
    <li><a href="../../index.html">Contents</a></li>
    <li><a href="index.html">26. Fetch &amp; JSON</a></li>
    <li class="active">26.3. Fetching Data</li>
</ol>



<div class="container">
  <div class="row">
    <div class="col-md-10 col-md-offset-1 content ">

    
  <div class="section" id="fetching-data">
<h1>26.3. Fetching Data<a class="headerlink" href="#fetching-data" title="Permalink to this headline">¶</a></h1>
<p>Now that we know what an API is, let's use one to update a web page. Let's use
a weather API to add weather data to a web page. The URL for this special
LaunchCode weather API is <a class="reference external" href="https://handlers.education.launchcode.org/static/weather.json" target="_blank">https://handlers.education.launchcode.org/static/weather.json<i class="fas fa-external-link-alt" aria-hidden="true"></i></a>.</p>
<p>Example JSON returned from our weather API.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="s2">&quot;temp&quot;</span><span class="o">:</span> <span class="mi">67</span><span class="p">,</span>
   <span class="s2">&quot;windSpeed&quot;</span><span class="o">:</span> <span class="mi">5</span><span class="p">,</span>
   <span class="s2">&quot;tempMin&quot;</span><span class="o">:</span> <span class="mi">50</span><span class="p">,</span>
   <span class="s2">&quot;tempMax&quot;</span><span class="o">:</span> <span class="mi">71</span><span class="p">,</span>
   <span class="s2">&quot;status&quot;</span><span class="o">:</span> <span class="s2">&quot;Sunny&quot;</span><span class="p">,</span>
   <span class="s2">&quot;chanceOfPrecipitation&quot;</span><span class="o">:</span> <span class="mi">20</span><span class="p">,</span>
   <span class="s2">&quot;zipcode&quot;</span><span class="o">:</span> <span class="mi">63108</span>
<span class="p">}</span>
</pre></div>
</div>
<p>We can see that this API returns useful information like <code class="docutils literal notranslate"><span class="pre">temp</span></code> and
<code class="docutils literal notranslate"><span class="pre">windSpeed</span></code>. Our goal is to add that data to a Launch Status web page. Note,
this API is for instruction purposes and does not contain real time data.</p>
<div class="admonition-example admonition">
<p class="first admonition-title"><i class="fas fa-binoculars" aria-hidden="true"></i>Example</p>
<p>Launch Status web page, which we will add weather data to.</p>
<div class="last highlight-html notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
   <span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>Launch Status<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
   <span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
   <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Launch Status<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span>Weather Conditions<span class="p">&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;weather-conditions&quot;</span><span class="p">&gt;</span>
         <span class="c">&lt;!-- TODO: dynamically add html about weather using data from API --&gt;</span>
      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
   <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="admonition">
<p class="first admonition-title"><i class="fas fa-exclamation-triangle" aria-hidden="true"></i>Warning</p>
<p class="last">Before going through the <code class="docutils literal notranslate"><span class="pre">fetch</span></code> examples, please know that <code class="docutils literal notranslate"><span class="pre">fetch</span></code> does
NOT work in Internet Explorer.
<a class="reference external" href="https://browsehappy.com/" target="_blank">List of alternative browsers<i class="fas fa-external-link-alt" aria-hidden="true"></i></a></p>
</div>
<div class="section" id="fetch-function">
<h2>26.3.1. <code class="docutils literal notranslate"><span class="pre">fetch</span></code> Function<a class="headerlink" href="#fetch-function" title="Permalink to this headline">¶</a></h2>
<p id="index-0">To request the weather data, we will use the <code class="docutils literal notranslate"><span class="pre">fetch</span></code> function. <code class="docutils literal notranslate"><span class="pre">fetch</span></code> is a
global function that requests, or fetches, resources such as data from an API.</p>
<p>Take note of two necessary aspects of the <code class="docutils literal notranslate"><span class="pre">fetch</span></code> function:</p>
<ol class="arabic simple">
<li>The URL of where the data is located.<ol class="loweralpha">
<li>For this example, it will be <code class="docutils literal notranslate"><span class="pre">&quot;https://handlers.education.launchcode.org/static/weather.json&quot;</span></code></li>
</ol>
</li>
<li>A response handler function to utilize the data that is being fetched.<ol class="loweralpha">
<li>For this example, it will be <code class="docutils literal notranslate"><span class="pre">function(response){...};</span></code></li>
</ol>
</li>
</ol>
<div class="admonition-example admonition">
<p class="first admonition-title"><i class="fas fa-binoculars" aria-hidden="true"></i>Example</p>
<p>Notice a string URL is passed to <code class="docutils literal notranslate"><span class="pre">fetch</span></code>. Also notice the anonymous
<em>request handler function</em> that has a <code class="docutils literal notranslate"><span class="pre">response</span></code> parameter. The <code class="docutils literal notranslate"><span class="pre">.then</span></code>
method will be explained soon.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">fetch</span><span class="p">(</span><span class="s2">&quot;https://handlers.education.launchcode.org/static/weather.json&quot;</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">}</span> <span class="p">);</span>
</pre></div>
</div>
<p class="last">In this example, we are requesting data from
<code class="docutils literal notranslate"><span class="pre">https://handlers.education.launchcode.org/static/weather.json</span></code> and our
response handler (the anonymous function) simply logs the response to the
console.</p>
</div>
</div>
<div class="section" id="fetch-example">
<h2>26.3.2. <code class="docutils literal notranslate"><span class="pre">fetch</span></code> Example<a class="headerlink" href="#fetch-example" title="Permalink to this headline">¶</a></h2>
<p>Now let's add <code class="docutils literal notranslate"><span class="pre">fetch</span></code> in the Launch Status web page.</p>
<div class="admonition-example admonition">
<p class="first admonition-title"><i class="fas fa-binoculars" aria-hidden="true"></i>Example</p>
<p>A <code class="docutils literal notranslate"><span class="pre">&lt;script&gt;</span></code> tag has been added that includes:</p>
<ol class="arabic simple">
<li>A <em>load</em> event handler on line 5.</li>
<li>A <code class="docutils literal notranslate"><span class="pre">fetch</span></code> and <em>response handler function</em> on line 6.</li>
<li>A <code class="docutils literal notranslate"><span class="pre">console.log(response);</span></code> on line 7 that prints out the <code class="docutils literal notranslate"><span class="pre">response</span></code>
object.</li>
</ol>
<div class="highlight-html notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20</pre></div></td><td class="code"><div class="highlight"><pre><span></span>          <span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
   <span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>Launch Status<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
         <span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">&quot;load&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">fetch</span><span class="p">(</span><span class="s2">&quot;https://handlers.education.launchcode.org/static/weather.json&quot;</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
               <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
            <span class="p">}</span> <span class="p">);</span>
         <span class="p">});</span>
      <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
   <span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
   <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Launch Status<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span>Weather Conditions<span class="p">&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;weather-conditions&quot;</span><span class="p">&gt;</span>
         <span class="c">&lt;!-- TODO: dynamically add html about weather using data from API --&gt;</span>
      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
   <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre></div>
</td></tr></table></div>
<p class="repl-link last"><a class="reference external" href="https://repl.it/&#64;launchcode/fetch-weather-pt1" target="_blank">repl.it<i class="fas fa-external-link-alt" aria-hidden="true"></i></a></p>
</div>
<p>Let's break down how <code class="docutils literal notranslate"><span class="pre">fetch</span></code> works:</p>
<ol class="arabic simple">
<li>A URL is passed to <code class="docutils literal notranslate"><span class="pre">fetch</span></code> as a parameter.</li>
<li>This causes an HTTP GET request to be sent from the browser to the API.</li>
<li>The API processes the request and sends back a response, which contains
data.</li>
<li>Once the browser receives the response, the <code class="docutils literal notranslate"><span class="pre">.then()</span></code> statement executes.</li>
<li>The anonymous <em>response handler function</em> called by
<code class="docutils literal notranslate"><span class="pre">.then(function(response)</span></code> runs, and this function deals with the data
sent back from the API.</li>
<li>Based on the code in the handler function, the web page gets updated using
DOM methods.</li>
</ol>
<div class="admonition">
<p class="first admonition-title"><i class="fas fa-sticky-note" aria-hidden="true"></i>Note</p>
<p class="last">In this section, <code class="docutils literal notranslate"><span class="pre">fetch</span></code> is used to make GET requests. <code class="docutils literal notranslate"><span class="pre">fetch</span></code> can also
be used to make other types of HTTP requests such as POST and PUT.</p>
</div>
<div class="section" id="view-the-get-request">
<h3>26.3.2.1. View the GET Request<a class="headerlink" href="#view-the-get-request" title="Permalink to this headline">¶</a></h3>
<p>We can see evidence of the GET request by following these steps:</p>
<ol class="arabic simple">
<li>Open the <a class="reference external" href="https://fetch-weather-pt1--launchcode.repl.co/" target="_blank">Launch Status web page<i class="fas fa-external-link-alt" aria-hidden="true"></i></a> in its own tab.</li>
<li>Open developer tools.</li>
<li>Open the <em>Network</em> tab in developer tools.</li>
</ol>
<div class="figure" id="id1">
<img alt="Screen shot showing developer tools open with the network call to the API highlighted." src="../../_images/weather-developer-tools.png" />
<p class="caption"><span class="caption-text">The GET request to the Weather API highlighted in developer tools.</span></p>
</div>
<p>In the image above, you can see the web page has been rendered on the left. In
the developer tools, the GET request to the Weather API has been highlighted
along with the response from that request. The response shows the JSON data
that was received. In the console output, you can see the <code class="docutils literal notranslate"><span class="pre">Response</span></code> object
has been logged. We will use that object next.</p>
</div>
<div class="section" id="response-object">
<h3>26.3.2.2. Response Object<a class="headerlink" href="#response-object" title="Permalink to this headline">¶</a></h3>
<p>The response to the GET request is contained in a <code class="docutils literal notranslate"><span class="pre">Response</span></code> object, which is
an instance of the
<a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/API/Response" target="_blank">Response class<i class="fas fa-external-link-alt" aria-hidden="true"></i></a>.
The class contains methods that allow us to access the status of an API request
and the data returned in the response.</p>
<div class="admonition-example admonition">
<p class="first admonition-title"><i class="fas fa-binoculars" aria-hidden="true"></i>Example</p>
<p>On line 8, the <code class="docutils literal notranslate"><span class="pre">json()</span></code> method is used to gain access to the JSON data
contained in the <code class="docutils literal notranslate"><span class="pre">response</span></code> object.</p>
<p>Line 9 logs the JSON to the console. We'll discuss <code class="docutils literal notranslate"><span class="pre">.then()</span></code> later.</p>
<div class="highlight-html notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
   <span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>Launch Status<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
         <span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">&quot;load&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">fetch</span><span class="p">(</span><span class="s2">&quot;https://handlers.education.launchcode.org/static/weather.json&quot;</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span> <span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
               <span class="c1">// Access the JSON in the response</span>
               <span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span> <span class="kd">function</span><span class="p">(</span><span class="nx">json</span><span class="p">)</span> <span class="p">{</span>
                  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">json</span><span class="p">);</span>
               <span class="p">});</span>
            <span class="p">});</span>
         <span class="p">});</span>
      <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
   <span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
   <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Launch Status<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span>Weather Conditions<span class="p">&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;weather-conditions&quot;</span><span class="p">&gt;</span>
         <span class="c">&lt;!-- TODO: dynamically add html about weather using data from API --&gt;</span>
      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
   <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre></div>
</td></tr></table></div>
<p class="repl-link"><a class="reference external" href="https://repl.it/&#64;launchcode/fetch-weather-pt2" target="_blank">repl.it<i class="fas fa-external-link-alt" aria-hidden="true"></i></a></p>
<p><strong>Console Output</strong></p>
<div class="last highlight-none notranslate"><div class="highlight"><pre><span></span>Object {
   temp: 67,
   windSpeed: 5,
   tempMin: 50,
   tempMax: 71,
   status: &quot;Sunny&quot;,
   chanceOfPrecipitation: 20,
   zipcode: 63108
}
</pre></div>
</div>
</div>
</div>
<div class="section" id="use-the-dom-and-json-data-to-update-the-page">
<h3>26.3.2.3. Use the DOM and JSON Data to Update the Page<a class="headerlink" href="#use-the-dom-and-json-data-to-update-the-page" title="Permalink to this headline">¶</a></h3>
<p>Now that we have JSON weather data, we can add HTML elements to the page to
display that data.</p>
<div class="admonition-example admonition">
<p class="first admonition-title"><i class="fas fa-binoculars" aria-hidden="true"></i>Example</p>
<ol class="arabic simple">
<li>On line 8, the <code class="docutils literal notranslate"><span class="pre">div</span></code> object is defined and linked to the HTML element
with the id <code class="docutils literal notranslate"><span class="pre">weather-conditions</span></code>.</li>
<li>On line 10, the <code class="docutils literal notranslate"><span class="pre">innerHTML</span></code> property of the <code class="docutils literal notranslate"><span class="pre">div</span></code> object is set to be
the HTML elements in lines 11 - 16.</li>
</ol>
<div class="highlight-html notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
   <span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>Launch Status<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
         <span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">&quot;load&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">fetch</span><span class="p">(</span><span class="s2">&quot;https://handlers.education.launchcode.org/static/weather.json&quot;</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span> <span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
               <span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span> <span class="kd">function</span><span class="p">(</span><span class="nx">json</span><span class="p">)</span> <span class="p">{</span>
                  <span class="kr">const</span> <span class="nx">div</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;weather-conditions&quot;</span><span class="p">);</span>
                  <span class="c1">// Add HTML that includes the JSON data</span>
                  <span class="nx">div</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="sb">`</span>
<span class="sb">                     &lt;ul&gt;</span>
<span class="sb">                        &lt;li&gt;Temp </span><span class="si">${</span><span class="nx">json</span><span class="p">.</span><span class="nx">temp</span><span class="si">}</span><span class="sb">&lt;/li&gt;</span>
<span class="sb">                        &lt;li&gt;Wind Speed </span><span class="si">${</span><span class="nx">json</span><span class="p">.</span><span class="nx">windSpeed</span><span class="si">}</span><span class="sb">&lt;/li&gt;</span>
<span class="sb">                        &lt;li&gt;Status </span><span class="si">${</span><span class="nx">json</span><span class="p">.</span><span class="nx">status</span><span class="si">}</span><span class="sb">&lt;/li&gt;</span>
<span class="sb">                        &lt;li&gt;Chance of Precip </span><span class="si">${</span><span class="nx">json</span><span class="p">.</span><span class="nx">chanceOfPrecipitation</span><span class="si">}</span><span class="sb">&lt;/li&gt;</span>
<span class="sb">                     &lt;/ul&gt;</span>
<span class="sb">                  `</span><span class="p">;</span>
               <span class="p">});</span>
            <span class="p">});</span>
         <span class="p">});</span>
      <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
   <span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
   <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Launch Status<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span>Weather Conditions<span class="p">&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;weather-conditions&quot;</span><span class="p">&gt;</span>
         <span class="c">&lt;!-- Weather data is added here dynamically. --&gt;</span>
      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
   <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre></div>
</td></tr></table></div>
<p class="repl-link last"><a class="reference external" href="https://repl.it/&#64;launchcode/fetch-weather-pt3" target="_blank">repl.it<i class="fas fa-external-link-alt" aria-hidden="true"></i></a></p>
</div>
<p>Let's take a look at the expected sequence of events:</p>
<ol class="arabic simple">
<li>In line 6, the <code class="docutils literal notranslate"><span class="pre">fetch</span></code> command sends a request to the URL.</li>
<li>When the API returns a response, the <code class="docutils literal notranslate"><span class="pre">then</span></code> method calls the anonymous
handler function and passes in the <code class="docutils literal notranslate"><span class="pre">response</span></code> object (also line 6).</li>
<li>On line 7, the handler function tries to retrieve the JSON data from the
<code class="docutils literal notranslate"><span class="pre">response</span></code> object. When this is successful, the anonymous
<code class="docutils literal notranslate"><span class="pre">function(json)</span></code> gets called.<ol class="loweralpha">
<li>On line 8, the <code class="docutils literal notranslate"><span class="pre">div</span></code> object is defined and linked to the HTML element
with the id <code class="docutils literal notranslate"><span class="pre">weather-conditions</span></code>.</li>
<li>On line 10, the <code class="docutils literal notranslate"><span class="pre">innerHTML</span></code> property of the <code class="docutils literal notranslate"><span class="pre">div</span></code> object is set to be
the HTML elements in lines 11 - 16.</li>
<li>The HTML in lines 11 - 16 gets filled in using weather data stored in the
<code class="docutils literal notranslate"><span class="pre">json</span></code> object.</li>
</ol>
</li>
<li>The two anonymous functions end, and the HTML defined in lines 11 - 16
gets added to the <code class="docutils literal notranslate"><span class="pre">div</span></code> element on line 26.</li>
</ol>
<p>Opening the developer tools on the web page shows the added HTML:</p>
<div class="figure" id="id2">
<img alt="Screen shot of browser showing Launch Status web page with the weather data in HTML." src="../../_images/weather-data-on-page.png" />
<p class="caption"><span class="caption-text">Weather data added to web page.</span></p>
</div>
<div class="admonition">
<p class="first admonition-title"><i class="fas fa-sticky-note" aria-hidden="true"></i>Note</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">fetch</span></code> was chosen as the tool to request data because it's supported in modern browsers by default
and is simple to use. When viewing resources other than this book, you will see various other ways to
request data in a web page with JavaScript. Other ways include, but are not
limited to, <code class="docutils literal notranslate"><span class="pre">jQuery.get</span></code>, <code class="docutils literal notranslate"><span class="pre">jQuery.ajax</span></code>, and <code class="docutils literal notranslate"><span class="pre">XMLHttpRequest</span></code>.</p>
</div>
</div>
</div>
<div class="section" id="check-your-understanding">
<h2>26.3.3. Check Your Understanding<a class="headerlink" href="#check-your-understanding" title="Permalink to this headline">¶</a></h2>
<div class="admonition-question admonition">
<p class="first admonition-title"><i class="fas fa-question" aria-hidden="true"></i>Question</p>
<p>What is the correct syntax for <code class="docutils literal notranslate"><span class="pre">fetch</span></code>?</p>
<ol class="last loweralpha simple">
<li><code class="docutils literal notranslate"><span class="pre">fetch(&quot;GET&quot;,</span> <span class="pre">&quot;https://api.url&quot;).then(...);</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">fetch(&quot;https://api.url&quot;).doStuff(...);</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">fetch(&quot;https://api.url&quot;).then(...);</span></code></li>
</ol>
</div>
</div>
</div>



    
    <nav aria-label="Next and Previous Pages">
      <ul class="pager">
        
        <li class="previous"><a href="data-formats-json.html"><span aria-hidden="true">&larr;</span> 26.2. Data Formats and JSON</a></li>
        
        
        <li class="next"><a href="asynchronous.html">26.4. Asynchronous and Promises <span aria-hidden="true">&rarr;</span></a></li>
        
      </ul>
    </nav>
    
    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>