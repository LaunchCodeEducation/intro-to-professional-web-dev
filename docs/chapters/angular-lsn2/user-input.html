<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>29.5. Responding to User Input &#8212; Introduction to Professional Web Development in JavaScript  documentation</title>
    <link rel="stylesheet" href="../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/fa/css/all.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/launchcode.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/site.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="29.6. Events Can Call Functions" href="event-functions.html" />
    <link rel="prev" title="29.4. Events" href="events.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head><body class="body-bc">

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../index.html"><span><img src="../../_static/lc-ed-logo.png" alt="LaunchCode logo"></span>
        </a>
        <span class="navbar-text navbar-version pull-left"><b></b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              
            
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
    <label for="q" class="searchLabel">Search</label>
    <input type="text" name="q" class="form-control" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<ol class="breadcrumb container">
    <li><a href="../../index.html">Contents</a></li>
    <li><a href="index.html">29. Angular, Part 2</a></li>
    <li class="active">29.5. Responding to User Input</li>
</ol>



<div class="container">
  <div class="row">
    <div class="col-md-10 col-md-offset-1 content ">

    
  <div class="section" id="responding-to-user-input">
<h1>29.5. Responding to User Input<a class="headerlink" href="#responding-to-user-input" title="Permalink to this headline">¶</a></h1>
<p>So far, if we want to change the number of items in our movie and chore lists,
we have to go into the code and alter the arrays. This is inefficient. It would
be better if we could make the changes on the screen.</p>
<div class="section" id="change-practice-folder">
<h2>29.5.1. Change Practice Folder<a class="headerlink" href="#change-practice-folder" title="Permalink to this headline">¶</a></h2>
<p>From the <code class="docutils literal notranslate"><span class="pre">lesson2</span></code> folder in VSCode, open the
<code class="docutils literal notranslate"><span class="pre">examples/input-practice/src/app/movie-list</span></code> folders and select the
<code class="docutils literal notranslate"><span class="pre">movie-list.component.html</span></code> file.</p>
<p>The starter code should match this:</p>
<div class="highlight-html+ng2 notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#39;movies col-4&#39;</span><span class="p">&gt;</span>
   <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span>Movies to Watch<span class="p">&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
   <span class="p">&lt;</span><span class="nt">ol</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">li</span> <span class="p">*</span><span class="na">ngFor</span><span class="p"> </span><span class="o">=</span><span class="s">&quot;let movie of movies&quot;</span><span class="p">&gt;</span><span class="cp">{{</span><span class="nv">movie</span><span class="cp">}}</span><span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
   <span class="p">&lt;/</span><span class="nt">ol</span><span class="p">&gt;</span>
   <span class="p">&lt;</span><span class="nt">hr</span><span class="p">&gt;</span>

<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</td></tr></table></div>
<p>In the terminal, navigate into the <code class="docutils literal notranslate"><span class="pre">input-practice</span></code> folder. Enter
<code class="docutils literal notranslate"><span class="pre">npm</span> <span class="pre">install</span></code> to add the Angular modules, then run <code class="docutils literal notranslate"><span class="pre">ng</span> <span class="pre">serve</span></code>. The web page
should look like this:</p>
<div class="figure">
<img alt="Starting setup for Angular input practice." src="../../_images/input-start.png" />
</div>
<p>Now let's modify the code to accept user input. Be sure to code along with each
step.</p>
</div>
<div class="section" id="setting-up-an-input-box">
<h2>29.5.2. Setting Up an Input Box<a class="headerlink" href="#setting-up-an-input-box" title="Permalink to this headline">¶</a></h2>
<p>Recall that the <a class="reference internal" href="../forms/creating-forms.html#input-tag"><span class="std std-ref">HTML input tag</span></a> creates a box where the user
can enter data. This data is retrieved by referencing the input element's
<code class="docutils literal notranslate"><span class="pre">value</span></code> property.</p>
<ol class="arabic simple">
<li>Add <code class="docutils literal notranslate"><span class="pre">&lt;input</span> <span class="pre">type='text'</span> <span class="pre">placeholder=&quot;Enter</span> <span class="pre">Movie</span> <span class="pre">Title</span> <span class="pre">Here&quot;/&gt;</span></code> to line 7,
then reload the page.</li>
</ol>
<div class="figure">
<img alt="Added an input box." src="../../_images/inputstep1.png" />
</div>
<p>Typing characters into the box does not do anything yet, since we have not
included any instructions to deal with the data.</p>
<ol class="arabic" start="2">
<li><p class="first">Angular extends the <code class="docutils literal notranslate"><span class="pre">input</span></code> element by declaring a <em>reference variable</em>
and also an <em>event</em> that triggers data collection. Modify the input element
in line 7 by adding <code class="docutils literal notranslate"><span class="pre">#newMovie</span></code> inside the tag:</p>
<div class="highlight-html+ng2 notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">input</span> <span class="p">#</span><span class="na">newMovie</span><span class="p"> </span><span class="na">type</span><span class="o">=</span><span class="s">&#39;text&#39;</span> <span class="na">placeholder</span><span class="o">=</span><span class="s">&quot;Enter Movie Title Here&quot;</span><span class="p">/&gt;</span>
</pre></div>
</div>
</li>
<li><p class="first">To store the typed characters in the <code class="docutils literal notranslate"><span class="pre">newMovie</span></code> variable, we need to wait
for a particular event to occur. One of the simplest is to wait for a
<code class="docutils literal notranslate"><span class="pre">keyup</span></code>. Modify line 7 one more time:</p>
<div class="highlight-html+ng2 notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">input</span> <span class="p">#</span><span class="na">newMovie</span><span class="p"> (</span><span class="na">keyup</span><span class="p">)</span><span class="o">=</span><span class="s">&#39;true&#39;</span> <span class="na">type</span><span class="o">=</span><span class="s">&#39;text&#39;</span> <span class="na">placeholder</span><span class="o">=</span><span class="s">&quot;Enter Movie Title Here&quot;</span><span class="p">/&gt;</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">(keyup)='true'</span></code> waits for the user to tap and release a key when the cursor
is in the input box. When this happens, any characters in the box are stored in
<code class="docutils literal notranslate"><span class="pre">newMovie</span></code>. However, we still need a place for the data to <em>go</em>.</p>
</li>
</ol>
<ol class="arabic" start="4">
<li><p class="first">Add a <code class="docutils literal notranslate"><span class="pre">&lt;p&gt;</span></code> element to line 8 of your code, and include a placeholder for
the value of <code class="docutils literal notranslate"><span class="pre">newMovie</span></code>. Save and reload the page:</p>
<div class="highlight-html+ng2 notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#39;movies col-4&#39;</span><span class="p">&gt;</span>
   <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span>Movies to Watch<span class="p">&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
   <span class="p">&lt;</span><span class="nt">ol</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">li</span> <span class="p">*</span><span class="na">ngFor</span><span class="p"> </span><span class="o">=</span><span class="s">&quot;let movie of movies&quot;</span><span class="p">&gt;</span><span class="cp">{{</span><span class="nv">movie</span><span class="cp">}}</span><span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
   <span class="p">&lt;/</span><span class="nt">ol</span><span class="p">&gt;</span>
   <span class="p">&lt;</span><span class="nt">hr</span><span class="p">&gt;</span>
   <span class="p">&lt;</span><span class="nt">input</span> <span class="p">#</span><span class="na">newMovie</span><span class="p"> (</span><span class="na">keyup</span><span class="p">)</span><span class="o">=</span><span class="s">&#39;true&#39;</span> <span class="na">type</span><span class="o">=</span><span class="s">&#39;text&#39;</span> <span class="na">placeholder</span><span class="o">=</span><span class="s">&quot;Enter Movie Title Here&quot;</span><span class="p">/&gt;</span>
   <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span><span class="cp">{{</span><span class="nv">newMovie.value</span><span class="cp">}}</span><span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</td></tr></table></div>
</li>
</ol>
<p>When the <code class="docutils literal notranslate"><span class="pre">keyup</span></code> event is triggered, data gets stored in the <code class="docutils literal notranslate"><span class="pre">newMovie</span></code>
variable. The <code class="docutils literal notranslate"><span class="pre">newMovie.value</span></code> placeholder on line 8 displays that data on
the screen.</p>
<div class="admonition-try-it admonition">
<p class="first admonition-title"><i class="fas fa-puzzle-piece" aria-hidden="true"></i>Try It</p>
<p>Save your work, reload the page, and then play! Type into the input box to
verify your code works.</p>
<div class="figure">
<img alt="Keyup input practice." src="../../_images/input-keyup.png" />
</div>
<p class="last">As you add or remove characters from the input box, you should see a
real-time update of the text on the screen.</p>
</div>
</div>
<div class="section" id="changing-the-event">
<h2>29.5.3. Changing the Event<a class="headerlink" href="#changing-the-event" title="Permalink to this headline">¶</a></h2>
<p>In the example above, we used the <code class="docutils literal notranslate"><span class="pre">keyup</span></code> event to trigger data collection.
This choice stores data in <code class="docutils literal notranslate"><span class="pre">newMovie</span></code> every time a key is released. For
adding a new movie title to our list, however, it would be better to wait for
the user to finish typing.</p>
<div class="section" id="modifying-keyup">
<h3>29.5.3.1. Modifying <code class="docutils literal notranslate"><span class="pre">keyup</span></code><a class="headerlink" href="#modifying-keyup" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">keyup</span></code> event waits for ANY key to be released, but Angular allows us to
modify the keyword to wait for a SPECIFIC key. If, for example, we want to
record data when the '0' key is released, then we would replace
<code class="docutils literal notranslate"><span class="pre">(keyup)='true'</span></code> with <code class="docutils literal notranslate"><span class="pre">(keyup.0)='true'</span></code>.</p>
<p>The general syntax for this modification is <code class="docutils literal notranslate"><span class="pre">keyup.key</span></code>, and <code class="docutils literal notranslate"><span class="pre">key</span></code> refers
to any character on the keyboard---including <code class="docutils literal notranslate"><span class="pre">shift</span></code>, <code class="docutils literal notranslate"><span class="pre">enter</span></code>, and
<code class="docutils literal notranslate"><span class="pre">space</span></code>.</p>
<div class="admonition-try-it admonition">
<p class="first admonition-title"><i class="fas fa-puzzle-piece" aria-hidden="true"></i>Try It</p>
<p>Change the <code class="docutils literal notranslate"><span class="pre">keyup</span></code> event in line 7 to:</p>
<ol class="arabic simple">
<li><code class="docutils literal notranslate"><span class="pre">keyup.enter</span></code>,</li>
<li><code class="docutils literal notranslate"><span class="pre">keyup.arrowup</span></code>,</li>
<li><code class="docutils literal notranslate"><span class="pre">keyup.q</span></code></li>
</ol>
<p>Refresh the page after each change and explore how each one affects
collecting user input.</p>
<p class="last">Other key combinations are described at <a class="reference external" href="https://alligator.io/angular/binding-keyup-keydown-events/" target="_blank">alligator.io<i class="fas fa-external-link-alt" aria-hidden="true"></i></a>.</p>
</div>
</div>
<div class="section" id="wait-for-a-click">
<h3>29.5.3.2. Wait for a Click<a class="headerlink" href="#wait-for-a-click" title="Permalink to this headline">¶</a></h3>
<ol class="arabic" start="5">
<li><p class="first">Instead of waiting for a specific key to be pressed, let's wait for the user
to click. Replace the <code class="docutils literal notranslate"><span class="pre">(keyup)</span></code> event with <code class="docutils literal notranslate"><span class="pre">(click)</span></code> in line 7:</p>
<div class="highlight-html+ng2 notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">input</span> <span class="p">#</span><span class="na">newMovie</span><span class="p"> (</span><span class="na">click</span><span class="p">)</span><span class="o">=</span><span class="s">&#39;true&#39;</span> <span class="na">type</span><span class="o">=</span><span class="s">&#39;text&#39;</span> <span class="na">placeholder</span><span class="o">=</span><span class="s">&quot;Enter Movie Title Here&quot;</span><span class="p">/&gt;</span>
</pre></div>
</div>
<p>Notice that the page now changes only when the user clicks inside the input
box. This method is similar to <code class="docutils literal notranslate"><span class="pre">keyup.enter</span></code> because it gives the user a
specific action to perform that records the entry without changing the text.</p>
</li>
</ol>
</div>
<div class="section" id="now-add-a-button">
<h3>29.5.3.3. Now Add a Button<a class="headerlink" href="#now-add-a-button" title="Permalink to this headline">¶</a></h3>
<p>Since most of us are used to pressing the &quot;Enter&quot; key to submit our input,
clicking inside the box might not be the best option. Fortunately, we know how
to add a button to our HTML.</p>
<ol class="arabic" start="6">
<li><p class="first">Add a <code class="docutils literal notranslate"><span class="pre">&lt;button&gt;</span></code> element with a <code class="docutils literal notranslate"><span class="pre">click</span></code> event to line 8. Also, change
the event in line 7 back to <code class="docutils literal notranslate"><span class="pre">keyup.enter</span></code>:</p>
<div class="highlight-html+ng2 notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#39;movies col-4&#39;</span><span class="p">&gt;</span>
   <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span>Movies to Watch<span class="p">&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
   <span class="p">&lt;</span><span class="nt">ol</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">li</span> <span class="p">*</span><span class="na">ngFor</span><span class="p"> </span><span class="o">=</span><span class="s">&quot;let movie of movies&quot;</span><span class="p">&gt;</span><span class="cp">{{</span><span class="nv">movie</span><span class="cp">}}</span><span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
   <span class="p">&lt;/</span><span class="nt">ol</span><span class="p">&gt;</span>
   <span class="p">&lt;</span><span class="nt">hr</span><span class="p">&gt;</span>
   <span class="p">&lt;</span><span class="nt">input</span> <span class="p">#</span><span class="na">newMovie</span><span class="p"> (</span><span class="na">keyup.enter</span><span class="p">)</span><span class="o">=</span><span class="s">&#39;true&#39;</span> <span class="na">type</span><span class="o">=</span><span class="s">&#39;text&#39;</span> <span class="na">placeholder</span><span class="o">=</span><span class="s">&quot;Enter Movie Title Here&quot;</span><span class="p">/&gt;</span>
   <span class="p">&lt;</span><span class="nt">button</span> <span class="p">(</span><span class="na">click</span><span class="p">)</span><span class="o">=</span><span class="s">&#39;true&#39;</span><span class="p">&gt;</span>Add<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
   <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span><span class="cp">{{</span><span class="nv">newMovie.value</span><span class="cp">}}</span><span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</td></tr></table></div>
<p>Refresh the page and type a title into the input box. Tapping &quot;Enter&quot; or
clicking the &quot;Add&quot; button should display your text below the box.</p>
<div class="figure">
<img alt="Keyup input practice." src="../../_images/input-add-button.png" />
</div>
</li>
</ol>
</div>
</div>
<div class="section" id="summary">
<h2>29.5.4. Summary<a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>We now have a way to collect user input and store it in a variable. We also
learned how to access the data and display it on the web page.</p>
<p>To accept user input, Angular requires three items:</p>
<ol class="arabic simple">
<li>The HTML <code class="docutils literal notranslate"><span class="pre">input</span></code> tag,</li>
<li>A variable to store the input, declared as <code class="docutils literal notranslate"><span class="pre">#variableName</span></code>,</li>
<li>An event that triggers data collection.</li>
</ol>
<p>On the next page, we will learn how to make that input appear in our list of
movies.</p>
</div>
</div>



    
    <nav aria-label="Next and Previous Pages">
      <ul class="pager">
        
        <li class="previous"><a href="events.html"><span aria-hidden="true">&larr;</span> 29.4. Events</a></li>
        
        
        <li class="next"><a href="event-functions.html">29.6. Events Can Call Functions <span aria-hidden="true">&rarr;</span></a></li>
        
      </ul>
    </nav>
    
    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>